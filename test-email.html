<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Test EmailJS - Jeu des 7 cl√©s</title>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
</head>
<body style="background:#0b0b0b;color:#e8d18f;font-family:system-ui;text-align:center;padding-top:80px;">
  <h2>Test EmailJS üîë</h2>
  <button id="send" style="padding:10px 20px;border:none;background:#e8d18f;color:#0b0b0b;font-weight:bold;border-radius:6px;cursor:pointer;">
    Envoyer un email test
  </button>

  <script>
    // Initialise EmailJS avec ta cl√© publique
    emailjs.init({ publicKey: wvO20smkmA7KXEb30 });

    document.getElementById("send").addEventListener("click", async () => {
      try {
        const params = {
          puzzle_id: "1",
          puzzle_title: "Cl√© du Portail",
          timestamp: new Date().toISOString(),
          user_agent: navigator.userAgent,
        };

        const res = await emailjs.send(
          "service_45nppfp",      // ton Service ID
          "template_m49xxnx",     // ton Template ID
          params
        );

        alert("‚úÖ Email envoy√© avec succ√®s !");
        console.log("Succ√®s :", res);
      } catch (err) {
        alert("‚ùå Erreur d‚Äôenvoi (voir console)");
        console.error(err);
      }
    });
  </script>
</body>
</html>
